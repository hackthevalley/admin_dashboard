(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(e,t,n){e.exports=n(80)},80:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(30),s=n.n(c),i=n(2),l=n.n(i),o=n(5),u=n(8),p=n(9),m=n(11),h=n(10),d=n(12),f=n(31),v=r.a.createContext({});function b(e){return function(t){function n(){return Object(u.a)(this,n),Object(m.a)(this,Object(h.a)(n).apply(this,arguments))}return Object(d.a)(n,t),Object(p.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement(v.Consumer,null,function(n){return r.a.createElement(e,Object.assign({globalContext:n},t.props))})}}]),n}(a.Component)}var E=n(89),g=n(86),k=n(88),w=n(20),j=n(15),x=n.n(j);function O(e,t){return y.apply(this,arguments)}function y(){return(y=Object(o.a)(l.a.mark(function e(t,n){var a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.User.createToken(t,n);case 2:return a=e.sent,localStorage.setItem("token",a),x.a.setAuthenticationToken(a),e.abrupt("return",{authenticationToken:a,authenticated:!0});case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function _(){return N.apply(this,arguments)}function N(){return(N=Object(o.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("token"),x.a.setAuthenticationToken(t),!t){e.next=19;break}return e.prev=3,e.next=6,x.a.Graph.query("{ user {_id} }");case 6:if(!e.sent.user){e.next=11;break}return e.abrupt("return",{authenticationToken:t,authenticated:!0});case 11:return e.abrupt("return",{authenticated:!1});case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(3),e.abrupt("return",{authenticated:!1});case 17:e.next=20;break;case 19:return e.abrupt("return",{authenticated:!1});case 20:case"end":return e.stop()}},e,this,[[3,14]])}))).apply(this,arguments)}var C=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).onInputChange=function(e){n.setState(Object(w.a)({},e.target.name,e.target.value))},n.login=Object(o.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.globalContext.reduce,e.prev=1,e.t0=t,e.next=5,O(n.state.username,n.state.password);case 5:e.t1=e.sent,(0,e.t0)(e.t1),n.props.history.push("/events"),e.next=13;break;case 10:e.prev=10,e.t2=e.catch(1),window.alert(e.t2.message);case 13:case"end":return e.stop()}},e,this,[[1,10]])})),n.state={username:"",password:""},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container pt-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("h1",null,"HTV Administration Portal"),r.a.createElement("h3",null,"Login"),r.a.createElement("p",null,"Please login using your administrative credentials."),r.a.createElement("hr",null),r.a.createElement("label",null,"Username"),r.a.createElement("input",{onChange:this.onInputChange,value:this.state.username,className:"form-control",type:"text",name:"username"}),r.a.createElement("label",{className:"pt-1"},"Password"),r.a.createElement("input",{onChange:this.onInputChange,value:this.state.password,className:"form-control",type:"password",name:"password"}),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.login,className:"btn btn-primary"},"Login"))))}}]),t}(a.Component),I=Object(k.a)(b(C)),H=null;function A(){return P.apply(this,arguments)}function P(){return(P=Object(o.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(H){e.next=8;break}return e.next=3,x.a.Graph.query("\n            {\n                events {\n                    _id\n                    name\n                    applications {\n                        _id\n                        name\n                        description\n                    }\n                }\n            }\n        ");case 3:return t=e.sent,H=new Date,e.abrupt("return",{events:t.events,fetchingEvents:!1});case 8:return console.log("Already fetched all events... skipping..."),e.abrupt("return",{fetchingEvents:!1});case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var S=n(85),T=n(17),q=b(function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.props.globalContext.reduce)({fetchingEvents:!0}),e.t0=t,e.next=5,A();case 5:e.t1=e.sent,(0,e.t0)(e.t1);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.globalContext.events;return r.a.createElement("div",{className:"container-fluid pt-3"},r.a.createElement("h3",null,"Events"),r.a.createElement(T.a,{showPaginationTop:!0,showPaginationBottom:!1,data:e,columns:[{Header:"Name",accessor:"name"},{id:"actions",Header:"Actions",accessor:function(e){return r.a.createElement(S.a,{to:"/events/".concat(e._id,"/applications")},"View Applications")}}]}))}}]),t}(a.Component));function D(e,t){var n=!0,a=!1,r=void 0;try{for(var c,s=e[Symbol.iterator]();!(n=(c=s.next()).done);n=!0){var i=c.value;if(t(i))return i}}catch(l){a=!0,r=l}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}return null}var B=b(function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.props.globalContext.reduce)({fetchingEvents:!0}),e.t0=t,e.next=5,A();case 5:e.t1=e.sent,(0,e.t0)(e.t1);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.globalContext.events,t=this.props.match.params.eventId,n=D(e,function(e){return e._id===t});return r.a.createElement("div",{className:"container-fluid pt-3"},r.a.createElement("h3",null,"Applications"),r.a.createElement("h4",{className:"text-muted"},n?n.name:""),r.a.createElement(T.a,{showPaginationTop:!0,showPaginationBottom:!1,data:n?n.applications:[],columns:[{Header:"Name",accessor:"name"},{id:"actions",Header:"Actions",accessor:function(e){return r.a.createElement(S.a,{to:"/events/".concat(n._id,"/applications/").concat(e._id,"/hackers")},"View Hackers")}}]}))}}]),t}(a.Component)),F=null;function G(){return M.apply(this,arguments)}function M(){return(M=Object(o.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(F){e.next=8;break}return e.next=3,x.a.Graph.query("\n            {\n                hackers {\n                    _id\n                    email_address\n                    first_name\n                    last_name\n                    school\n                    phone_number\n                    gender\n                    dob\n                    github\n                    linkedin\n                    website\n                    description\n                    created_at\n                    applications {\n                        _id\n                        submitted_at\n                        answers {\n                            question {\n                                name\n                                description\n                            }\n                            _id\n                            answers\n                        }\n                        application {\n                            _id\n                        }\n                    }\n                }\n            }\n        ");case 3:return t=e.sent,F=new Date,e.abrupt("return",{hackers:t.hackers,fetchingHackers:!1});case 8:return console.log("Already fetched hackers... skipping..."),e.abrupt("return",{fetchingHackers:!1});case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var V,L=b(function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.props.globalContext.reduce)({fetchingEvents:!0,fetchingHackers:!0}),e.t0=t,e.next=5,A();case 5:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=t,e.next=10,G();case 10:e.t3=e.sent,(0,e.t2)(e.t3);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.globalContext,t=e.events,n=e.hackers,a=this.props.match.params,c=a.eventId,s=a.applicationId,i=D(t,function(e){return e._id===c}),l=D(i?i.applications:[],function(e){return e._id===s});return r.a.createElement("div",{className:"container-fluid pt-3"},r.a.createElement("h3",null,"Hackers (",n.length,")"),r.a.createElement("h4",{className:"text-muted"},l?l.name:""," - ",i?i.name:""),r.a.createElement(T.a,{showPaginationTop:!0,showPaginationBottom:!1,data:n,columns:[{id:"fullName",Header:"Name",accessor:function(e){return e.first_name+" "+e.last_name}},{Header:"Email Address",accessor:"email_address"},{Header:"School",accessor:"school"},{id:"applicationStatus",Header:"Application Status",accessor:function(e){var t=D(e.applications,function(e){return e.application._id===s});return t?t.submitted_at?"Submitted":"In progress...":"Not Started"}},{id:"actions",Header:"Actions",accessor:function(e){return r.a.createElement(S.a,{to:"/events/".concat(i._id,"/applications/").concat(l._id,"/hackers/").concat(e._id)},"View Application")}}]}))}}]),t}(a.Component)),W=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.props.globalContext.reduce)({fetchingEvents:!0,fetchingHackers:!0}),e.t0=t,e.next=5,A();case 5:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=t,e.next=10,G();case 10:e.t3=e.sent,(0,e.t2)(e.t3);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.globalContext,t=e.events,n=e.hackers,a=this.props.match.params,c=a.eventId,s=a.applicationId,i=a.hackerId,l=D(t,function(e){return e._id===c}),o=(D(l?l.applications:[],function(e){return e._id===s}),D(n,function(e){return e._id===i})),u=D(o?o.applications:[],function(e){return e.application._id===s});return r.a.createElement("div",{className:"container-fluid pt-3"},r.a.createElement("h3",null,"Hacker Profile / Application"),r.a.createElement("h4",{className:"text-muted"},o?o.first_name+" "+o.last_name:""),r.a.createElement("hr",null),o?r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"Profile"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-9"},r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Full Name"),r.a.createElement("td",null,o.first_name," ",o.last_name)),r.a.createElement("tr",null,r.a.createElement("th",null,"Email Address"),r.a.createElement("td",null,o.email_address)),r.a.createElement("tr",null,r.a.createElement("th",null,"Short Bio"),r.a.createElement("td",null,o.description)),r.a.createElement("tr",null,r.a.createElement("th",null,"Phone Number"),r.a.createElement("td",null,o.phone_number)),r.a.createElement("tr",null,r.a.createElement("th",null,"Gender"),r.a.createElement("td",null,o.gender)),r.a.createElement("tr",null,r.a.createElement("th",null,"Date of Birth"),r.a.createElement("td",null,o.dob)),r.a.createElement("tr",null,r.a.createElement("th",null,"School"),r.a.createElement("td",null,o.school)),r.a.createElement("tr",null,r.a.createElement("th",null,"Github"),r.a.createElement("td",null,o.github)),r.a.createElement("tr",null,r.a.createElement("th",null,"LinkedIn"),r.a.createElement("td",null,o.linkedin)),r.a.createElement("tr",null,r.a.createElement("th",null,"Personal Website"),r.a.createElement("td",null,o.website))))),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("img",{src:"https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=htv-hacker-".concat(o._id)}),r.a.createElement("p",{className:"text-muted"},o._id))),u?r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"Application ",u.submitted_at?r.a.createElement("span",{className:"badge badge-success"},"Submitted at ",u.submitted_at):r.a.createElement("span",{className:"badge badge-light"},"In progress...")),r.a.createElement("div",null,u.answers.map(function(e){return r.a.createElement("div",null,r.a.createElement("hr",null),r.a.createElement("p",null,r.a.createElement("b",null,e.question.name)),r.a.createElement("small",{className:"text-muted"},e.question.description),e.answers.map(function(e){return r.a.createElement("p",null,e)}))}))):null):null)}}]),t}(a.Component),J=Object(k.a)(b(W)),U=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(l.a.mark(function e(){var t,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.globalContext.reduce,e.next=3,_();case 3:n=e.sent,t(n),n.authenticated||this.props.history.push("/");case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.globalContext,t=e.fetchingEvents,n=e.fetchingHackers;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-fluid"},t?r.a.createElement("p",null,"Fetching events..."):null,n?r.a.createElement("p",null,"Fetching hackers... this can take a while..."):null),r.a.createElement(E.a,null,r.a.createElement(g.a,{exact:!0,path:"/",component:I}),r.a.createElement(g.a,{exact:!0,path:"/events",component:q}),r.a.createElement(g.a,{exact:!0,path:"/events/:eventId/applications",component:B}),r.a.createElement(g.a,{exact:!0,path:"/events/:eventId/applications/:applicationId/hackers",component:L}),r.a.createElement(g.a,{exact:!0,path:"/events/:eventId/applications/:applicationId/hackers/:hackerId",component:J})))}}]),t}(a.Component),z=Object(k.a)((V=b(U),function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).reduce=function(e){n.setState(Object(f.a)({},e))},n.state={authenticationToken:null,authenticated:!1,hackers:[],events:[],fetchingEvents:!1,fetchingHackers:!1,reduce:n.reduce},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(v.Provider,{value:this.state},r.a.createElement(V,this.props))}}]),t}(a.Component)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $=n(87);n(73),n(75);_(),s.a.render(r.a.createElement($.a,null,r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[38,2,1]]]);
//# sourceMappingURL=main.58266fa7.chunk.js.map